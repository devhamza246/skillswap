{% extends "partials/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% load widget_tweaks %}
{% block title %}
    Lead
{% endblock title %}
{% block extra_css %}
{% endblock extra_css %}
{% block content %}
    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
        <div class="page-content">
            <div class="container-fluid">
                {% block pagetitle %}
                    {% include "partials/page-title.html" with pagetitle="Leads" title="Update Lead" %}
                {% endblock pagetitle %}
                <div class="modal-content">
                    <form action="" method="post">
                        {% csrf_token %}
                        <div class="modal-body">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="mb-3">{{ form.source|attr:"data-choices"|as_crispy_field }}</div>
                                        </div>
                                        <div class="col-lg-6 d-none">
                                            <input name="company" class="select form-control" id="id_company" value="{{company_id}}"/>
                                            <input name="job_post" class="select form-control" id="id_job_post" value="{{jobpost_id}}"/>
                                            <input name="person" class="select form-control" id="id_person" value="{{person_id}}"/>
                                            <input name="sales_task" class="select form-control" id="id_sales_task" value="{{salestask_id}}"/>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="mb-3">{{ form.sales_template|attr:"data-choices"|as_crispy_field }}</div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="mb-3">{{ form.outbound_email|attr:"data-choices"|as_crispy_field }}</div>
                                        </div>
                                        <div class="col-lg-3">
                                            <div class="mb-3">{{ form.resume_sent|as_crispy_field }}</div>
                                            <div class="mb-3">{{ form.interested|as_crispy_field }}</div>
                                            <div class="mb-3">{{ form.response|as_crispy_field }}</div>
                                            <div class="mb-3">{{ form.bounce_back|as_crispy_field }}</div>
                                        </div>
                                        <div class="col-lg-3">
                                            <div class="mb-3">{{ form.contract_signed|as_crispy_field }}</div>
                                            <div class="mb-3">{{ form.not_interested|as_crispy_field }}</div>
                                            <div class="mb-3">{{ form.auto_replies|as_crispy_field }}</div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="mb-3">{{ form.follow_ups|as_crispy_field }}</div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="mb-3">{{ form.status|as_crispy_field }}</div>
                                        </div>
                                        {% if user.role == user.Roles.ADMIN or user.role == user.Roles.RECRUITER or user.role == user.Roles.ASSISTANT_RECRUITER %}
                                            <div class="col-lg-6">
                                                <div class="mb-3">{{ form.user|attr:"data-choices"|as_crispy_field }}</div>
                                            </div>
                                        {% endif %}
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                {{ form.contract_date|attr:'data-provider:flatpickr'|attr:'data-date-format:Y-m-d'|as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="mb-3">{{ form.notes|as_crispy_field }}</div>
                                        </div>
                                    </div>
                                </div>
                                <!-- end card body -->
                            </div>
                            <!-- end card -->
                            <div class="text-end mb-4">
                                <a href="{% url 'leads:lead_list' %}" class="btn btn-light w-sm">Cancel</a>
                                <button type="submit" class="btn btn-success w-sm">Update</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- container-fluid -->
    </div>
    <!-- End Page-content -->
    {% block footer %}
        {% include "partials/footer.html" %}
    {% endblock footer %}
</div>
<!-- end main content-->
{% endblock content %}
{% block extra_content %}
{% endblock extra_content %}
{% block extra_js %}
    <script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
    <script>


    </script>
{% endblock extra_js %}
